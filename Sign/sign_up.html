<!DOCTYPE html>
<html lang="ko">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Let's Every Busking!</title>

    <!-- Bootstrap core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../css/modern-business.css" rel="stylesheet">

    <!-- 글씨체 -->
    <link href="https://fonts.googleapis.com/css?family=Nanum+Pen+Script" rel="stylesheet">

    <!--Bootsrap 4 CDN-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">

    <!--Fontawesome CDN-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
          integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU"
          crossorigin="anonymous">

    <!--Custom styles-->
    <link rel="stylesheet" type="text/css" href="../css/sign.css">

    <script>

        var check = false;

        function checkid() {

            // 아이디 체크 정규식
            var regExpId = /^[a-z0-9_-]\w{5,10}$/;

            var id = document.getElementById("user_id").value;

            if (id == "") {
                alert("아이디를 입력하세요");
                check = false;
                return false;

            } else if (!regExpId.test(id)) {
                alert("아이디는 5글자 이상 영문, 숫자 조합만 가능합니다.");
                $("#user_id").focus();
                return false;

            } else {
                check_page.location.href = "check.php?userid=" + id;
                check = true;
                return true;

            }

        }

        function DosignUp() {

            // 비밀번호 조합(영문, 숫자) 및 길이 체크 정규식
            var regExpPassword = /^(?=.*[a-zA-Z])(?=.*[0-9]).{6,16}$/;

            // 휴대폰번호 정규식
            var regExpMobile = /^01([016789]?)-?([0-9]{3,4})-?([0-9]{4})$/;

            var regExName = /^[가-힣]+$/;

            var userid = document.getElementById("user_id").value;
            var userpwd = document.getElementById("password").value;
            var inputPwdCfm = document.getElementById("password_re").value;
            var username = document.getElementById("name").value;
            var phone = document.getElementById("phone").value;

            if (userid.length == 0) {
                alert("아이디를 입력해 주세요");
                $("#user_id").focus();
                exit();
            }

            if (!regExpPassword.test(userpwd)) {
                alert("비밀번호는 6 ~ 16 글자의 영문, 숫자 조합을 해주세요.");
                $("#user_id").focus();
                return false;

            }

            if (!regExName.test(username)) {
                alert("이름은 한글만 가능합니다.");
                $("#user_id").focus();
                return false;

            }

            if (!check) {
                alert("중복체크를 해주세요");
                return false;
            }

            if (userpwd.length == 0) {
                alert("비밀번호를 입력해 주세요");
                $("#password").focus();
                return false;
            }

            if (inputPwdCfm.length == 0) {
                alert("비밀번호를 입력해 주세요");
                $("#password").focus();
                return false;
            }

            if (userpwd != inputPwdCfm) {
                alert("비밀번호가 서로 다릅니다. 비밀번호를 확인해 주세요.");
                $("#password_re").focus();
                return false;
            }

            if (username.length == 0) {
                alert("이름을 입력해주세요");
                $("#name").focus();
                return false;
            }

            if (phone.length == 0 | !regExpMobile.test(phone)) {
                alert("정확한 전화번호를 입력해주세요");
                $("#phone").focus();
                return false;
            }

            if (confirm("회원가입을 하시겠습니까?")) {
                document.myform.submit();
                return true;
            }

        }

    </script>

</head>

<body>

<!-- 네비게이션 -->
<nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="../main.html" style="font-family: 'Monoton', cursive; font-size: 20px">Every
            Busking</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="sign_in.html">Sign in</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="portfolio-2-col.html">Busking Team</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="contact.html">Busking Zone</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../streaming.html">Streaming</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="services.html">Community</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="about.html">Concert</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- 회원가입 UI -->
<div class="container">
    <div class="d-flex justify-content-center h-100">
        <div class="sign_up_card">
            <div class="card-header">
                <h3>Sign Up</h3>
                <!--<div class="d-flex justify-content-end social_icon">-->
                    <!--<span><i class="fab fa-facebook-square"></i></span>-->
                    <!--<span><i class="fab fa-google-plus-square"></i></span>-->
                    <!--<span><i class="fab fa-twitter-square"></i></span>-->
                <!--</div>-->
            </div>
            <div class="card-body">
                <form name="myform" method="post" action="sign_up_result.php">

                    <!-- 아이디 -->
                    <div class="input-group form-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-user"></i></span>
                        </div>
                        <input type="text" class="form-control" maxlength=10 placeholder="ID (max 10)" name="ID"
                               id="user_id">
                        <input type="button" class="btn float-right login_btn my_font_main" onclick="checkid()"
                               value="중복체크">
                        <input type=hidden id="user_id_ck" name=user_id_ck value="0">

                    </div>

                    <!-- 패스워드 -->
                    <div class="input-group form-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-key"></i></span>
                        </div>
                        <input type="password" class="form-control" maxlength=16 placeholder="Password (max 16)"
                               name="password" id="password">
                    </div>

                    <!-- 패스워드 확인 -->
                    <div class="input-group form-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-key"></i></span>
                        </div>
                        <input type="password" class="form-control" maxlength=16 placeholder="Confirm Password"
                               name="password_re" id="password_re">
                    </div>

                    <!-- 이름 -->
                    <div class="input-group form-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-user"></i></span>
                        </div>
                        <input type="text" class="form-control" maxlength=5 placeholder="User Name (max 5)" name="name"
                               id="name">
                    </div>

                    <!-- 핸드폰 번호 -->
                    <div class="input-group form-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-phone"></i></span>
                        </div>
                        <input type="tel" class="form-control" maxlength=11 placeholder="Mobile No" name="phone"
                               id="phone">
                    </div>

                    <div class="input-group form-group" style="color: white">
                        <label class=""> Gender : </label>
                        <label class="radio-inline" style="margin-left: 25px"><input type="radio" value="Male"
                                                                                     name="sex" id="male">Male</label>
                        <label class="radio-inline" style="margin-left: 25px"><input type="radio" value="Female"
                                                                                     name="sex"
                                                                                     id="female">Female</label>
                    </div>

                    <input type="button" class="btn float-right login_btn" value="Sign Up" onclick="DosignUp()">

                </form>

            </div>

        </div>


    </div>
    <iframe src="" id="check_page" scrolling=no frameborder=no width=0 height=0 name="check_page"></iframe>

</div>


</body>

</html>